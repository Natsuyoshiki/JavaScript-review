<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced functions</title>
  <style>
    body {
      background-color: rgb(233, 233, 233);
      color:rgb(0, 0, 0);
    }
  </style>
</head>
<body>

  <button class="js-button">Click</button>
  
  <pre>functions are values
   can create a function directly into a variable

   in JS if you can access the function , a name isnt needed so you can just put a  function into a variable without a name (anonymous function)

   <b>setTimeout();</b>
   built-in functions, allows us to run a function in the future
   parameters : 
   <b>1. A function we want to run in the future
   2. How long to wait before running this function (a number in milliseconds)</b>

   <b>Asynchronous Code</b>
   computer won't wait for a line to finish  before going to the next line

   <b>setInterval();</b>
   another built-in function, it will keep running the function in interval ,parameters:
   <b>1. A function we want to run in the future
   2. A number in  milliseconds</b>
   setInterval() returns a number that we can use to stop the interval
         <i>clearInterval();</i>

   Another way to loop through an array:
   <b>.forEach(parameter)</b>
    it loops through the array and for each value it will say the value in the parameter and run the function
    its the prefered way to loop through an array
    the 2nd parameter is the index
    .forEach(); dont have continue to skip but we can do the same with return statement
    if we need to use break; its better to use a for loop

    A shorter way to write functions
        <b>Arrow Functions</b>
    (mostly works the same as a regular function)
     Arrow functions have shortcuts that regular don't
     when theres only 1 parameter () is optional

     instead of adding onclick="" on button a better way is to use  
             <b>.addEventListener()</b>
    select element with class and use JS, 
     <i>let us run some code when we interact with the element</i> got 2 parameters:
     <b>1.event (type of interaction 'click')
     2.A function we want to run <i>var.addEventListener('click', () => {})</i>
     </b>
     lets us run multiple event listeners for an event
     Can remove an event listener <b>.removeEventListener()</b> also 2 parameters: event and function we want to remove
     .addEventListener('keydown',)

        document.body.addEventListener('keydown', (event) => {
          console.log(event.key);
        }); to find the keypressed

              document.body.addEventListener('keydown', (event) => {
                if (event.key === 'r') {
                  playGame('rock');
                }
              });
    document.querySelectorAll() selects all element of same class like an array

          <u><i>2 more array methods:</i></u>
     <b> .filter() and .map() </b>

     <b>.filter() </b>
     [1, -3, 5] => [1.5] 
     Negative numbers removed
     <b>1. Creates a new array []
     2. return true,
       => puts value in array
     3. return false,
       => not put value in array   </b>

       [1, -3 ,5].filter((value, index) => {
        if (value >= 0) {
          return true;
        } else {
        return false;
        }
      }); 
      can be simplified to:
      [1, -3, 5].filter((value, index) => {
        return value >= 0;
      });

    <b> .map()
      1. Creates a new array []
      2. Whatever we return => added to new array
      .map() = transform an array into another array
        </b>

      remember if theres no 2nd param () becomes optional, and if theres ony line of code in an arrow function, we can put the code on one line and {} and return becomes optional.
        <b>console.log([1, 1, 3].map(value => value * 2));</b>

    <u>Feature of function: </u>
    <b>Closure
      -if a function has access to a value, it will always have access to that value
      value gets packaged together (enclosed) with the function
    </b>

  </pre>

  <script>
/*
    const function1 = function () {
      console.log('hello2');
    };
    console.log(function1);
    function1();

            //method, no need to name the function cuz we can call fun
    const object1 = {
      num: 2,
      fun: function () {
        console.log('hello3');
      }
    };
    object1.fun();

    function display (param) {
      console.log(param);
    }
    display(2);

             //pass a function into a function, the function passing in is called a 'callback'
    function run (param) {
      param();
    }
    run(function () {
      console.log('hello4');
    });


         //asynchronous code, line appears after 'next line'
  setTimeout(function () {
    console.log('timeout');
  }, 3000);
    console.log('next line');

          // runs functions every 3s
    setInterval(function () {
      console.log('interval');
    }, 3000);
    console.log('next line 2');
  */

   /*      //another way to loop through an array 
    [
      'make dinner',
      'wash dishes',
      'watch youtube'
    ].forEach(function(value, index) {
      if (value === 'wash dishes') {   //if value is wash dishes we gonna skip it
        return;
      }
       console.log(index);
       console.log(value);
    });
  */

    [
      'make dinner',
      'wash dishes',
      'watch youtube'
    ].forEach((value, index) => {
      if (value === 'wash dishes') { 
        return;
      }
       console.log(index);
       console.log(value);
    });


      const regularFunction = function (param, param2) {
        console.log('hello');
        return 5;
      };
      
          //Arrow Function
      const arrowFunction = (param, param2) => {
      console.log('hello');
      return 5;
    };
    arrowFunction();

    //arrow function shortcut, no ()
    const oneParam = param => {
      console.log(param + 1);
    };
    oneParam(2);

    // return and {} can be removed
    const oneLine = () =>  2 + 3;
    console.log(oneLine());


    //.addEventListener()
    const buttonElement = document.querySelector('.js-button');

    const eventListener = () => {
      console.log('yo');
    }
    buttonElement.addEventListener('click', eventListener);
    buttonElement.removeEventListener('click', eventListener);

    buttonElement.addEventListener('click', () => {
      console.log('click2');
    });

    // .filter()
    console.log([1, -3 ,5].filter((value, index) => {
      return value >=0;
    }));

    //.map()
    console.log([1, 1, 3].map((value, index) => {
      return value * 2;
    }));

    console.log([1, 1, 3].map(value => value * 2));

    //closure

  </script>
</body>
</html>